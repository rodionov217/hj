<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Задача 1. Пианино | Домашнее задание к лекции 2.1</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <ul class="set middle">
    <li class="white">
      <audio src=""></audio>
    </li>
    <li class="black">
      <audio src=""></audio>
    </li>
  	<li class="white">
      <audio src=""></audio>
    </li>
    <li class="black">
      <audio src=""></audio>
    </li>
  	<li class="white">
      <audio src=""></audio>
    </li>
  </ul>
</body>
<script>
  const sounds = { 
    middle: ['sounds/middle/first.mp3', 'sounds/middle/second.mp3', 'sounds/middle/third.mp3', 'sounds/middle/fourth.mp3', 'sounds/middle/fifth.mp3'],
    lower: ['sounds/lower/first.mp3', 'sounds/lower/second.mp3', 'sounds/lower/third.mp3', 'sounds/lower/fourth.mp3', 'sounds/lower/fifth.mp3'],
    higher: ['sounds/higher/first.mp3', 'sounds/higher/second.mp3', 'sounds/higher/third.mp3', 'sounds/higher/fourth.mp3', 'soundshigher/fifth.mp3']
  }
  const pianoSet = document.getElementsByClassName('set')[0];
  const keys = Array.from(document.getElementsByTagName('li'));
  Array.from(document.getElementsByTagName('audio')).forEach( (player, i) => player.src = sounds[checkSet()][i]);

  function checkSet() {
    if (pianoSet.classList.contains('middle')) {
      return 'middle';
    }
    if (pianoSet.classList.contains('lower')) {
      return 'lower';
    }
    if (pianoSet.classList.contains('higher')) {
      return 'higher';
    }
  }

  function updateSet(event) {
    switch (event.key) {
      case 'Shift':
        pianoSet.classList.remove('middle');
        pianoSet.classList.remove('higher');
        pianoSet.classList.add('lower');
        break;
      case 'Alt':
        pianoSet.classList.remove('middle');
        pianoSet.classList.remove('lower');
        pianoSet.classList.add('higher');
       break;
    }
  }

  function returnSet() {
    pianoSet.classList.remove('higher');
    pianoSet.classList.remove('lower');
    pianoSet.classList.add('middle');
}



  
  document.addEventListener('keydown', updateSet);
  

  keys.forEach(key => key.addEventListener('click', () => key.getElementsByTagName('audio')[0].play()));
  
  document.addEventListener('keyup', returnSet);

</script>
</html>
